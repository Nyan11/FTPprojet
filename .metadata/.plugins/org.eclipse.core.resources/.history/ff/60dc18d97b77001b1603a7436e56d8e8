package cda.projet.serveur;

import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;

public class LauncherServer<Worker extends WorkerRunnable> {

	protected int 			serverPort   = 2121;
	protected ServerSocket 	serverSocket = null;
	protected WorkerClient  worker       = null;

	
	public void start() {
		

		try {
			serverSocket = new ServerSocket(serverPort);
		} catch (IOException e) {
			e.printStackTrace();
		}

		try {
			Socket clientSocket = null;
			while(true) {
				clientSocket = this.serverSocket.accept();
				worker = new WorkerClient();
				worker.clientSocket = clientSocket;
				new Thread(worker).start();
			}	
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
}
